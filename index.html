<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Carrera Doctor en Medicina ‚Äî Malla Curricular</title>
<style>
body {
  font-family: Arial, sans-serif;
  background-color: #fffafc;
  color: #333;
  margin: 0;
  padding: 20px;
}

h1 {
  text-align: center;
  color: #d06fa7;
}

h2 {
  color: #e08bb2;
  border-bottom: 2px solid #f2c3d8;
  padding-bottom: 5px;
}

.semestre {
  border: 1px solid #f8bbd0;
  border-radius: 8px;
  margin: 10px 0;
  padding: 10px;
}

.materia {
  border: 1px solid #f8bbd0;
  padding: 8px;
  margin: 5px 0;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.3s ease;
}

.completada {
  background-color: #c8f7c5 !important;
  text-decoration: line-through;
  color: #666;
}

.habilitada {
  background-color: #f8b3d0;
}

.bloqueada {
  background-color: #eee;
  cursor: not-allowed;
}

.requisito {
  font-size: 0.85em;
  color: #a65c84;
}
</style>
</head>
<body>

<h1>Carrera Doctor en Medicina ‚Äî Malla Curricular</h1>

<h2>ü©∑ Ciclo de Introducci√≥n a las Ciencias de la Salud</h2>

<div class="semestre">
  <strong>Primer A√±o - Semestre 1</strong>
  <div class="materia" data-id="intro-biol">Introducci√≥n a la biolog√≠a celular y molecular</div>
  <div class="materia" data-id="intro-bioest">Introducci√≥n a la bioestad√≠stica</div>
  <div class="materia" data-id="salud-publica">Salud p√∫blica y humanidades</div>
  <div class="materia" data-id="apr-territorio-1">Aprendizaje en territorio 1</div>
</div>

<h2>ü©∑ Ciclo B√°sico Cl√≠nico Comunitario</h2>

<div class="semestre">
  <strong>Primer A√±o - Semestre 2</strong>
  <div class="materia" data-id="biol-cel">Biolog√≠a celular y molecular 
    <div class="requisito">Requiere: Introducci√≥n a la biolog√≠a celular y molecular</div>
  </div>
  <div class="materia" data-id="apr-territorio-2">Aprendizaje en territorio 2 
    <div class="requisito">Requiere: Aprendizaje en territorio 1</div>
  </div>
</div>

<div class="semestre">
  <strong>Segundo A√±o - Semestre 3</strong>
  <div class="materia" data-id="anatomia">Anatom√≠a 
    <div class="requisito">Requiere: Salud p√∫blica y humanidades</div>
  </div>
  <div class="materia" data-id="hist-biof">Histolog√≠a y Biof√≠sica 
    <div class="requisito">Requiere: Biolog√≠a celular y molecular</div>
  </div>
</div>

<div class="semestre">
  <strong>Segundo A√±o - Semestre 4</strong>
  <div class="materia" data-id="hist-neuro-cardio">Histolog√≠a de neuro y cardio</div>
  <div class="materia" data-id="neurociencias">Neurociencias</div>
  <div class="materia" data-id="cardio-resp">Cardiovascular y respiratorio</div>
</div>

<div class="semestre">
  <strong>Tercer A√±o - Semestre 5</strong>
  <div class="materia" data-id="drem">Digestivo renal endocrino metab√≥lico y reproductor (DREM)</div>
</div>

<div class="semestre">
  <strong>Tercer A√±o - Semestre 6</strong>
  <div class="materia" data-id="hemato-inmuno">Hematolog√≠a - Inmunobiolog√≠a</div>
  <div class="materia" data-id="metod-cient-1">Metodolog√≠a cient√≠fica 1</div>
</div>

<div class="semestre">
  <strong>Cuarto A√±o - Semestres 7 y 8</strong>
  <div class="materia" data-id="med-1nivel">Medicina en el primer nivel de atenci√≥n</div>
  <div class="materia" data-id="bases-patologia">Bases cient√≠ficas de la patolog√≠a</div>
  <div class="materia" data-id="pediatria">Pediatr√≠a</div>
  <div class="materia" data-id="gineco-neo">Ginecolog√≠a y neonatolog√≠a</div>
</div>

<div class="semestre">
  <strong>Quinto A√±o - Semestres 9 y 10</strong>
  <div class="materia" data-id="clinica-medica">Cl√≠nica m√©dica</div>
  <div class="materia" data-id="patol-medica-terap">Patolog√≠a m√©dica y terap√©utica</div>
</div>

<div class="semestre">
  <strong>Sexto A√±o - Semestres 11 y 12</strong>
  <div class="materia" data-id="clinica-quir">Cl√≠nica quir√∫rgica</div>
  <div class="materia" data-id="patol-quir">Patolog√≠a quir√∫rgica</div>
  <div class="materia" data-id="salud-mental">Salud mental en comunidad</div>
  <div class="materia" data-id="metod-cient-2">Metodolog√≠a cient√≠fica 2</div>
</div>

<h2>ü©∑ Internado Obligatorio</h2>

<div class="semestre">
  <strong>S√©ptimo A√±o - Semestres 13 y 14</strong>
  <div class="materia" data-id="internado">Internado obligatorio</div>
</div>

<script>
const dependencias = {
  "biol-cel": ["intro-biol"],
  "apr-territorio-2": ["apr-territorio-1"],
  "anatomia": ["salud-publica"],
  "hist-biof": ["biol-cel"],
  "hist-neuro-cardio": ["biol-cel"],
  "neurociencias": ["biol-cel"],
  "cardio-resp": ["biol-cel"],
  "drem": ["anatomia", "biol-cel"],
  "hemato-inmuno": ["biol-cel"],
  "metod-cient-1": ["intro-bioest"],
  "med-1nivel": ["anatomia", "hist-biof", "hist-neuro-cardio", "neurociencias", "cardio-resp", "drem", "hemato-inmuno", "metod-cient-1"],
  "bases-patologia": ["anatomia", "hist-biof", "hist-neuro-cardio", "neurociencias", "cardio-resp", "drem", "hemato-inmuno", "metod-cient-1"],
  "pediatria": ["anatomia", "hist-biof", "hist-neuro-cardio", "neurociencias", "cardio-resp", "drem", "hemato-inmuno", "metod-cient-1"],
  "gineco-neo": ["anatomia", "hist-biof", "hist-neuro-cardio", "neurociencias", "cardio-resp", "drem", "hemato-inmuno", "metod-cient-1"],
  "clinica-medica": ["med-1nivel", "bases-patologia"],
  "patol-medica-terap": ["bases-patologia"],
  "clinica-quir": ["med-1nivel", "bases-patologia"],
  "patol-quir": ["bases-patologia"],
  "salud-mental": ["med-1nivel"],
  "metod-cient-2": ["med-1nivel", "bases-patologia"],
  "internado": ["clinica-medica", "patol-medica-terap", "clinica-quir", "patol-quir", "salud-mental", "metod-cient-2", "pediatria", "gineco-neo"]
};

const materias = document.querySelectorAll(".materia");

function actualizar() {
  materias.forEach(m => {
    const id = m.dataset.id;

    if (localStorage.getItem(id) === "completada") {
      m.classList.add("completada");
      m.classList.remove("habilitada", "bloqueada");
      return;
    }

    const deps = dependencias[id] || [];
    let completas = deps.every(d => localStorage.getItem(d) === "completada");

    // Regla especial para Metodolog√≠a Cient√≠fica 1
    if (id === "metod-cient-1" && completas) {
      const otras = [
        "biol-cel", "apr-territorio-2", "anatomia", "hist-biof", 
        "hist-neuro-cardio", "neurociencias", "cardio-resp", "drem"
      ];
      const alguna = otras.some(d => localStorage.getItem(d) === "completada");
      completas = alguna;
    }

    if (deps.length === 0 || completas) {
      m.classList.add("habilitada");
      m.classList.remove("completada", "bloqueada");
    } else {
      m.classList.add("bloqueada");
      m.classList.remove("habilitada", "completada");
    }
  });
}

materias.forEach(m => {
  m.addEventListener("click", () => {
    if (!m.classList.contains("habilitada") && !m.classList.contains("completada")) return;
    const id = m.dataset.id;
    if (m.classList.contains("completada")) {
      localStorage.removeItem(id);
    } else {
      localStorage.setItem(id, "completada");
    }
    actualizar();
  });
});

actualizar();
</script>

</body>
</html>
